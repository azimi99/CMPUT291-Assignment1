CREATE TABLE Items (
	no INTEGER,
	descr TEXT,
	sid CHAR(20) NOT NULL,
	pid CHAR(20),
	PRIMARY KEY (no, sid),
	FOREIGN KEY (sid) REFERENCES Sales
	ON DELETE CASCADE,
	FOREIGN KEY (pid) REFERENCES Products
)

CREATE TABLE Products (
	pid CHAR(20),
	descr TEXT,
	PRIMARY KEY (pid)
)

CREATE TABLE Previewed (
	pid CHAR(20),
	rid CHAR(20),
	PRIMARY KEY (rid, pid),
	FOREIGN KEY (rid) REFERENCES Previews,
	FOREIGN KEY (pid) REFERENCES Products
)

CREATE TABLE Endorses (
	rid CHAR(20),
	user CHAR(20),
	PRIMARY KEY (rid, user),
	FOREIGN KEY (rid) REFERENCES Previews,
	FOREIGN KEY (user) REFERENCES Users
)

CREATE TABLE Previews (
	rid CHAR(20),
	rtext TEXT,
	rdate DATE,
	rating REAL,
	previewer CHAR(20) NOT NULL,
	PRIMARY KEY (rid),
	FOREIGN KEY (previewer) REFERENCES Users
	ON DELETE NO ACTION
)

CREATE TABLE Users(
 Email char(20),
 Name char(20),
 Pwd char(20),
 City char(20),
 Gender char(10),
 PRIMARY KEY (Email)
);

CREATE TABLE reviews( // ask diff char and Text
  reviewer char(20),
  reviewee char(20),
  rating Int(5),
  rtext Text,
  rdate Date,
  PRIMARY KEY (reviewer, reviewee)
  FOREIGN KEY reviewer References Users,
  FOREIGN KEY reviewee References Users

);

CREATE TABLE Sale(
 Sid char(20),
 Cond char(10),
 descr Char(50),
 rprice REAL,
 user char(20) NOT NULL,
 end_date Date,
 pid char(11),
 PRIMARY KEY (Sid),
 FOREIGN KEY user References Users
 On Delete No Action,
 FOREIGN KEY pid References Products

);

CREATE TABLE Bids(
 Bid Char(10),
 Amount REAL,
 bdate DATE,
 user char(20) NOT NULL,
 Sid Char(20) Not NULL,
 PRIMARY KEY (Bid),
 FOREIGN KEY Sid References sale
 On Delete No Action,
 FOREIGN KEY user references Users
 On Delete No Action

);
